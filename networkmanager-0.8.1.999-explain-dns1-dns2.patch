--- NetworkManager-1.2.0/src/dns-manager/nm-dns-manager.c.0002~	2016-04-20 23:23:57.805626993 +0200
+++ NetworkManager-1.2.0/src/dns-manager/nm-dns-manager.c	2016-04-20 23:29:32.407907782 +0200
@@ -439,7 +439,7 @@ create_resolv_conf (char **searches,
 		g_free (tmp_str);
 	}
 
-	if (nameservers) {
+	if (nameservers && g_strv_length (nameservers)) {
 		int num = g_strv_length (nameservers);
 
 		str = g_string_new ("");
@@ -457,6 +457,14 @@ create_resolv_conf (char **searches,
 			g_string_append_c (str, '\n');
 		}
 		nameservers_str = g_string_free (str, FALSE);
+	} else {
+		nameservers_str = g_strdup_printf ("\n\n%s%s%s%s%s%s",
+				"# No nameservers found; try putting DNS servers into your\n",
+				"# ifcfg files in /etc/sysconfig/network-scripts like so:\n",
+				"#\n",
+				"# DNS1=xxx.xxx.xxx.xxx\n",
+				"# DNS2=xxx.xxx.xxx.xxx\n",
+				"# DOMAIN=lab.foo.com bar.foo.com\n");
 	}
 
 	return g_strdup_printf ("# Generated by NetworkManager\n%s%s%s",
